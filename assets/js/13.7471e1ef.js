(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{360:function(e,t,n){"use strict";n.r(t);var r=n(43),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"它是如何工作的"}},[e._v("它是如何工作的")]),e._v(" "),n("p",[e._v("Lerna 允许您使用两种模式来管理您的项目：固定模式(Fixed)或独立模式(Independent)。")]),e._v(" "),n("h2",{attrs:{id:"固定模式-默认"}},[e._v("固定模式(默认)")]),e._v(" "),n("p",[e._v("固定模式的 Lerna 项目以单一版本来操作。版本信息在"),n("code",[e._v("lerna.json")]),e._v("文件的"),n("code",[e._v("version")]),e._v("处。当您运行"),n("code",[e._v("lerna publish")]),e._v("时，如果自上次发布以来模块已经更新，那么它将被更新为您正在发布的新版本。这意味着您可以按需发布新版本的包.")]),e._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),n("p",[e._v("如果您的主版本是"),n("code",[e._v("0")]),e._v("，那么所有的更新都会被认为是"),n("a",{attrs:{href:"https://semver.org/#spec-item-4",target:"_blank",rel:"noopener noreferrer"}},[e._v("破坏性更新"),n("OutboundLink")],1),e._v("。因此在主版本为"),n("code",[e._v("0")]),e._v("时运行"),n("code",[e._v("lerna publish")]),e._v("并选择任何非预发行版本号将导致对所有包发布新版本，就算并非您的所有的包自上个版本以来都发生了更改也会这样。")])]),e._v(" "),n("p",[e._v("这是 Babel 目前使用的模式。如果你想讲所有包版本自动地绑定在一起，请使用该功能。这种方法的一个问题是，任何包中的主要更改都会导致所有的包都有了一个新的主版本。")]),e._v(" "),n("h2",{attrs:{id:"独立模式"}},[e._v("独立模式")]),e._v(" "),n("p",[n("code",[e._v("lerna init --independent")])]),e._v(" "),n("p",[e._v("独立模式的 Lerna 项目允许维护人员独立地增加包版本号。每次发布时，您都会收到一个提示，用以说明每个更改过的包是补丁(patch)、小更改(minor)、大更改(major)还是自定义更改(custom change)。")]),e._v(" "),n("p",[e._v("独立模式允许您更具体地址更新每个包的版本，对一组组件也有意义。将这种模式与"),n("a",{attrs:{href:"https://github.com/semantic-release/semantic-release",target:"_blank",rel:"noopener noreferrer"}},[e._v("semantic-release"),n("OutboundLink")],1),e._v("结合起来可以方便您的开发。（"),n("a",{attrs:{href:"https://github.com/atlassian/lerna-semantic-release",target:"_blank",rel:"noopener noreferrer"}},[e._v("atlassian/lerna-semantic-release"),n("OutboundLink")],1),e._v("上已有这方面的工作）。")]),e._v(" "),n("blockquote",[n("p",[e._v("将"),n("code",[e._v("lerna.json")]),e._v("中的"),n("code",[e._v("version")]),e._v("设置为"),n("code",[e._v("independent")]),e._v("可以运行独立模式。")])])])}),[],!1,null,null,null);t.default=a.exports}}]);