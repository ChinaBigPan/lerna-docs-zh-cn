(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{355:function(e,s,a){"use strict";a.r(s);var n=a(43),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"lerna-filter-options"}},[a("code",[e._v("@lerna/filter-options")])]),e._v(" "),a("blockquote",[a("p",[e._v("需要过滤的 lerna 子命令的选项")])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/lerna/lerna/tree/master/core/filter-options",target:"_blank",rel:"noopener noreferrer"}},[e._v("英文原地址"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"配置项"}},[e._v("配置项")]),e._v(" "),a("h3",{attrs:{id:"scope-glob"}},[a("code",[e._v("--scope <glob>")])]),e._v(" "),a("p",[e._v("只包含名称与给定通配符匹配的包。")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lerna "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" --scope my-component -- "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -la\nlerna run --scope toolbar-* "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\nlerna run --scope package-1 --scope *-2 lint\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("对于某些通配符，可能有必要传入配置项参数以避免过早的 shell 扩展。")])]),e._v(" "),a("h3",{attrs:{id:"ignore-glob"}},[a("code",[e._v("--ignore <glob>")])]),e._v(" "),a("p",[e._v("排除名称与给定通配符匹配的包。")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lerna "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" --ignore package-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1,2")]),e._v(",5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("  -- "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -la\nlerna run --ignore package-1  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\nlerna run --ignore package-@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" --ignore package-3 lint\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://github.com/lerna/lerna/blob/c0a750e0f482c16dda2f922f235861283efbe94d/commands/list/__tests__/list-command.test.js#L305-L356",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里"),a("OutboundLink")],1),e._v("有更多示例")]),e._v(" "),a("h3",{attrs:{id:"no-private"}},[a("code",[e._v("--no-private")])]),e._v(" "),a("p",[e._v("排除私有的包。默认情况下是包含它们的。")]),e._v(" "),a("h3",{attrs:{id:"since-ref"}},[a("code",[e._v("--since [ref]")])]),e._v(" "),a("p",[e._v("只包含自指定"),a("code",[e._v("ref")]),e._v("以来已经改变的包。如果没有传递"),a("code",[e._v("ref")]),e._v("，它默认为最近的标记。")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 列出自最新标记以来发生变化的包的内容")]),e._v("\n$ lerna "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" --since -- "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -la\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 为自“master”以来所有发生更改的包运行测试")]),e._v("\n$ lerna run "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" --since master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 列出自“某个分支”以来发生变化的所有包")]),e._v("\n$ lerna "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" --since some-branch\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("在 CI 中使用时， 如果您可以获得 PR 将要进入的目标分支，那么它将特别有用，因为您可以将其作为"),a("code",[e._v("--since")]),e._v("配置项的"),a("code",[e._v("ref")]),e._v("。这对于进入"),a("code",[e._v("master")]),e._v("和"),a("code",[e._v("feature")]),e._v("分支的 PR 来说很有效。")]),e._v(" "),a("h3",{attrs:{id:"exclude-dependents"}},[a("code",[e._v("--exclude-dependents")])]),e._v(" "),a("p",[e._v("当使用"),a("code",[e._v("--since")]),e._v("运行命令时，排除所有传递的被依赖项，覆盖默认的“changed”算法。")]),e._v(" "),a("p",[e._v("如果没有"),a("code",[e._v("--since")]),e._v("该参数时无效的，会抛出错误。")]),e._v(" "),a("h3",{attrs:{id:"include-dependents"}},[a("code",[e._v("--include-dependents")])]),e._v(" "),a("p",[e._v("在运行命令时包括所有传递的被依赖项，无视"),a("code",[e._v("--scope")]),e._v("、"),a("code",[e._v("--ignore")]),e._v("或"),a("code",[e._v("--since")]),e._v("。")]),e._v(" "),a("h3",{attrs:{id:"include-dependencies"}},[a("code",[e._v("--include-dependencies")])]),e._v(" "),a("p",[e._v("在运行命令时包括所有传递依赖项，无视"),a("code",[e._v("--scope")]),e._v("、"),a("code",[e._v("--ignore")]),e._v("或"),a("code",[e._v("--since")]),e._v("。")]),e._v(" "),a("p",[e._v("与接受"),a("code",[e._v("--scope")]),e._v("("),a("code",[e._v("bootstrap")]),e._v("、"),a("code",[e._v("clean")]),e._v("、"),a("code",[e._v("ls")]),e._v("、"),a("code",[e._v("run")]),e._v("、"),a("code",[e._v("exec")]),e._v(")的任何命令组合使用。确保对任何作用域的包(通过"),a("code",[e._v("--scope")]),e._v("或"),a("code",[e._v("--ignore")]),e._v(")的所有依赖项(和 dev 依赖项)也进行操作。")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),a("p",[e._v("这将会覆盖"),a("code",[e._v("--scope")]),e._v("和"),a("code",[e._v("--ignore")]),e._v("。")]),e._v(" "),a("p",[e._v("例如，如果一个匹配了"),a("code",[e._v("--ignore")]),e._v("的包被另一个正在引导的包所以来，那么它仍会照常工作。")])]),e._v(" "),a("p",[e._v("当您想要“设置”一个依赖于其他正在设置的包其中的一个包时，这是非常有用的。")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lerna bootstrap --scope my-component --include-dependencies\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# my-component 及其所有依赖项将被引导")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lerna bootstrap --scope "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"package-*"')]),e._v(" --ignore "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"package-util-*"')]),e._v(" --include-dependencies\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# 所有匹配 "package-util-*" 的包将被忽略，除非它们依赖于名称匹配 "package-*" 的包')]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h3",{attrs:{id:"include-merged-tags"}},[a("code",[e._v("--include-merged-tags")])]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lerna "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" --since --include-merged-tags -- "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -la\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("在使用"),a("code",[e._v("--since")]),e._v("命令时，它包含来自合并分支的标记。这只有在从"),a("code",[e._v("feature")]),e._v("分支进行大量发布时才有用，通常情况下不推荐这样做。")])])}),[],!1,null,null,null);s.default=t.exports}}]);