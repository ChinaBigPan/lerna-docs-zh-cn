(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{352:function(e,a,n){"use strict";n.r(a);var s=n(43),t=Object(s.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"关于"}},[e._v("关于")]),e._v(" "),n("p",[e._v("将大型的代码库拆分为独立的带版本的包(independently versioned package)对于代码共享非常有用。不过可惜的是，跨多个库进行内容梗概既混乱又很难跟踪，同时也让测试雪上加霜。")]),e._v(" "),n("p",[e._v("为了解决这些(以及其它一些)问题，一些项目将它们的代码库拆分到多个包存储库(有时候也称为单一存储库)中。业内知名的 Babel、React、Angular、Ember、Meteor、Jest 等项目都在一个单独的存储库中开发它们的所有包。")]),e._v(" "),n("p",[n("strong",[e._v("Lerna 是一个使用 git 和 npm 优化多包存储库管理工作流的工具。")])]),e._v(" "),n("p",[e._v("Lerna 还可以减少开发和构建环境中大量重复包的时间和空间需求 —— 这通常是将项目划分为许多单独的 NPM 包的缺点。有关详细信息，请参阅"),n("a",{attrs:{href:"https://github.com/lerna/lerna/blob/master/doc/hoist.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("hoist 文档"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h2",{attrs:{id:"lerna-仓库的结构"}},[e._v("Lerna 仓库的结构")]),e._v(" "),n("p",[e._v("您的文件结构应该是这样的:")]),e._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("my-lerna-repo/\n  package.json\n  packages/\n    package-1/\n      package.json\n    package-2/\n      package.json\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h2",{attrs:{id:"lerna-能做什么"}},[e._v("Lerna 能做什么")]),e._v(" "),n("p",[e._v("Lerna 中的两个主要命令是"),n("code",[e._v("lerna bootstrap")]),e._v("和"),n("code",[e._v("lerna publish")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("bootstrap")]),e._v("将把仓库中的依赖项链接在一起。"),n("code",[e._v("publish")]),e._v("将帮助发布任意的更新包。")]),e._v(" "),n("h2",{attrs:{id:"lerna-不能做什么"}},[e._v("Lerna 不能做什么")]),e._v(" "),n("p",[e._v("Lerna 不是一个针对无服务器单存储库(serverless monorepo)部署工具。Hoist 可能与传统的无服务器的单存储库部署技术并不兼容。")])])}),[],!1,null,null,null);a.default=t.exports}}]);