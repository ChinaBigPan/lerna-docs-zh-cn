(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{356:function(s,t,n){"use strict";n.r(t);var a=n(43),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"æ¦‚å¿µ"}},[s._v("æ¦‚å¿µ")]),s._v(" "),n("p",[s._v("å½“è¿è¡Œå‘½ä»¤é‡åˆ°é”™è¯¯æ—¶ï¼ŒLerna ä¼šå°†å…¶è®°å½•åˆ°"),n("code",[s._v("lerna-debug.log")]),s._v("æ–‡ä»¶ï¼ˆä¸"),n("code",[s._v("npm-debug.log")]),s._v("ï¼‰ä¸€æ ·ã€‚")]),s._v(" "),n("p",[s._v("Lerna åŒæ ·ä¹Ÿæ”¯æŒ"),n("a",{attrs:{href:"https://docs.npmjs.com/misc/scope",target:"_blank",rel:"noopener noreferrer"}},[s._v("scoped packages"),n("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),n("p",[s._v("è¿è¡Œ"),n("code",[s._v("lerna --help")]),s._v("æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å‘½ä»¤å’Œé…ç½®é¡¹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"lerna-json"}},[s._v("lerna.json")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.1.3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"npmClient"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publish"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ignoreChanges"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ignored-file"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.md"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"message"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chore(release): publish"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://npm.pkg.github.com"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bootstrap"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ignore"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"component-*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"npmClientArgs"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--no-package-lock"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"packages"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"packages/*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[n("strong",[s._v("è¯´æ˜ï¼š")])]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[s._v("å±æ€§å")]),s._v(" "),n("th",[s._v("æè¿°")])])]),s._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("version")])]),s._v(" "),n("td",[s._v("å½“å‰ç‰ˆæœ¬")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("npmClient")])]),s._v(" "),n("td",[s._v("æŒ‡å®šè¿è¡Œå‘½ä»¤çš„å®¢æˆ·ç«¯(ä¹Ÿå¯ä»¥æ ¹æ®æ¯ä¸ªå‘½ä»¤å•ç‹¬æŒ‡å®š)ã€‚è®¾å®šä¸º"),n("code",[s._v('"yarn"')]),s._v("åˆ™ä½¿ç”¨"),n("code",[s._v("yarn")]),s._v("è¿è¡Œã€‚é»˜è®¤å€¼æ˜¯"),n("code",[s._v('"npm"')])])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.publish.ignoreChanges")])]),s._v(" "),n("td",[s._v("é€šé…ç¬¦çš„æ•°ç»„ï¼Œå…¶ä¸­çš„å€¼ä¸ä¼šè¢« lerna ç›‘æµ‹æ›´æ”¹å’Œå‘å¸ƒã€‚ä½¿ç”¨å®ƒå¯ä»¥é˜²æ­¢å› æ›´æ”¹å‘å¸ƒä¸å¿…è¦çš„æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ä»…ä»…æ˜¯ä¿®å¤ README.md çš„é”™è¯¯ã€‚")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.publish.message")])]),s._v(" "),n("td",[s._v("æ‰§è¡Œå‘å¸ƒç‰ˆæœ¬æ›´æ–°æ—¶çš„è‡ªå®šä¹‰æäº¤æ¶ˆæ¯ã€‚æ›´å¤šç»†èŠ‚è§"),n("a",{attrs:{href:"https://github.com/lerna/lerna/blob/master/commands/version#--message-msg",target:"_blank",rel:"noopener noreferrer"}},[s._v("@lerna/version"),n("OutboundLink")],1)])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.publish.registry")])]),s._v(" "),n("td",[s._v("ä½¿ç”¨å®ƒæ¥è®¾ç½®è¦å‘å¸ƒçš„è‡ªå®šä¹‰æ³¨å†Œ urlï¼Œè€Œé npmjs.orgï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæ‚¨å¿…é¡»ç»è¿‡æˆæƒã€‚")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.bootstrap.ignore")])]),s._v(" "),n("td",[s._v("è¿è¡Œ"),n("code",[s._v("lerna bootstrap")]),s._v("æŒ‡ä»¤æ—¶ä¼šå¿½è§†è¯¥å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„é€šé…ç¬¦åŒ¹é…çš„æ–‡ä»¶ã€‚")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.bootstrap.npmClientArgs")])]),s._v(" "),n("td",[s._v("è¯¥å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„å‚æ•°å°†åœ¨"),n("code",[s._v("lerna bootstrap")]),s._v("å‘½ä»¤æœŸé—´ç›´æ¥ä¼ é€’ç»™"),n("code",[s._v("npm install")]),s._v("ã€‚")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("command.bootstrap.scope")])]),s._v(" "),n("td",[s._v("è¯¥é€šé…ç¬¦çš„æ•°ç»„ä¼šåœ¨"),n("code",[s._v("lerna bootstrap")]),s._v("å‘½ä»¤è¿è¡Œæ—¶é™åˆ¶å½±å“çš„èŒƒå›´ã€‚")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[s._v("packages")])]),s._v(" "),n("td",[s._v("è¡¨ç¤ºåŒ…ä½ç½®çš„å…¨å±€å˜é‡æ•°ç»„ã€‚")])])])]),s._v(" "),n("p",[n("code",[s._v("lerna.json")]),s._v("ä¸­çš„"),n("code",[s._v("packages")]),s._v("é…ç½®æ˜¯ä¸€ä¸ªé€šé…ç¬¦åˆ—è¡¨ï¼Œç”¨äºåŒ¹é…åŒ…å«äº†"),n("code",[s._v("package.json")]),s._v("çš„çš„ç›®å½•ã€‚è¿™å°±æ˜¯ lerna è¯†åˆ«â€œå¶å­â€åŒ…(å’Œâ€œæ ¹â€"),n("code",[s._v("package.json")]),s._v("ç›¸å¯¹åº”ï¼Œç”¨äºç®¡ç†æ•´ä¸ªä»“åº“çš„å¼€å‘ä¾èµ–å’Œè„šæœ¬)ã€‚")]),s._v(" "),n("p",[s._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œlerna å°†åŒ…çš„åˆ—è¡¨åˆå§‹åŒ–ä¸º"),n("code",[s._v('["packages/*"]')]),s._v("ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªç›®å½•ï¼Œæ¯”å¦‚"),n("code",[s._v('["modules/*"]')]),s._v("æˆ–"),n("code",[s._v('["package1", "package2"]')]),s._v("ã€‚å®šä¹‰çš„é€šé…ç¬¦æ˜¯ç›¸å¯¹äº"),n("code",[s._v("lerna.json")]),s._v("æ‰€åœ¨çš„ç›®å½•çš„ï¼Œè¯¥ç›®å½•é€šå¸¸æ˜¯å­˜å‚¨åº“çš„æ›´ç›®å½•ã€‚å”¯ä¸€çš„é™åˆ¶æ˜¯ä¸èƒ½ç›´æ¥åµŒå¥—åŒ…çš„æœªçŸ¥ï¼Œä½†æ˜¯è¯¥é™åˆ¶åœ¨â€œæ™®é€šâ€ npm åŒ…ä¸­ä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚")]),s._v(" "),n("p",[s._v("ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œ"),n("code",[s._v('["packages/*", "src/**"]')]),s._v("åŒ¹é…çš„æ˜¯ä¸‹é¢è¿™æ ·çš„æ ‘å½¢ç»“æ„ï¼š")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("packages/\nâ”œâ”€â”€ foo-pkg\nâ”‚   â””â”€â”€ package.json\nâ”œâ”€â”€ bar-pkg\nâ”‚   â””â”€â”€ package.json\nâ”œâ”€â”€ baz-pkg\nâ”‚   â””â”€â”€ package.json\nâ””â”€â”€ qux-pkg\n    â””â”€â”€ package.json\nsrc/\nâ”œâ”€â”€ admin\nâ”‚   â”œâ”€â”€ my-app\nâ”‚   â”‚   â””â”€â”€ package.json\nâ”‚   â”œâ”€â”€ stuff\nâ”‚   â”‚   â””â”€â”€ package.json\nâ”‚   â””â”€â”€ things\nâ”‚       â””â”€â”€ package.json\nâ”œâ”€â”€ profile\nâ”‚   â””â”€â”€ more-things\nâ”‚       â””â”€â”€ package.json\nâ”œâ”€â”€ property\nâ”‚   â”œâ”€â”€ more-stuff\nâ”‚   â”‚   â””â”€â”€ package.json\nâ”‚   â””â”€â”€ other-things\nâ”‚       â””â”€â”€ package.json\nâ””â”€â”€ upload\n    â””â”€â”€ other-stuff\n        â””â”€â”€ package.json\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[s._v("å®šä½"),n("code",[s._v("packages/*")]),s._v("ä¸‹çš„å¶å­åŒ…è¢«è®¤ä¸ºæ˜¯â€œæœ€ä½³å®è·µâ€ï¼Œä½†ä¸æ˜¯ä½¿ç”¨ Lerna çš„å¿…è¦æ¡ä»¶ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("ä¸€äº›å·²ç»åºŸå¼ƒçš„å­—æ®µ")])]),s._v(" "),n("p",[s._v("ä¸€äº›"),n("code",[s._v("lerna.json")]),s._v("å­—æ®µå·²ä¸å†ä½¿ç”¨ã€‚å€¼å¾—æ³¨æ„çš„åŒ…æ‹¬:")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("lerna")]),s._v(": åŸæœ¬ç”¨äºæŒ‡ç¤ºå½“å‰ Lerna çš„ç‰ˆæœ¬ã€‚åœ¨ v3 ä¸­è¢«"),n("a",{attrs:{href:"https://github.com/lerna/lerna/pull/1122",target:"_blank",rel:"noopener noreferrer"}},[s._v("åºŸå¼ƒ"),n("OutboundLink")],1),s._v("å’Œ"),n("a",{attrs:{href:"https://github.com/lerna/lerna/pull/1225",target:"_blank",rel:"noopener noreferrer"}},[s._v("åˆ é™¤"),n("OutboundLink")],1)])]),s._v(" "),n("h3",{attrs:{id:"å¸¸è§çš„devdependencies"}},[s._v("å¸¸è§çš„"),n("code",[s._v("devDependencies")])]),s._v(" "),n("p",[s._v("é€šè¿‡"),n("code",[s._v("Lerna link convert")]),s._v("ï¼Œå¤§å¤šæ•°"),n("code",[s._v("devdependency")]),s._v("å¯ä»¥è¢«æ‹‰åˆ° Lerna åº“çš„æ ¹ç›®å½•ã€‚")]),s._v(" "),n("p",[s._v("ä¸Šé¢çš„å‘½ä»¤å°†è‡ªåŠ¨æå‡(hoist)æ–‡ä»¶å¹¶ä½¿ç”¨ç›¸å¯¹çš„"),n("code",[s._v("files")]),s._v("æ–‡ä»¶è¯´æ˜ç¬¦ã€‚")]),s._v(" "),n("p",[s._v("æå‡æœ‰å¦‚ä¸‹å¥½å¤„:")]),s._v(" "),n("ul",[n("li",[s._v("æ‰€æœ‰çš„åŒ…ä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬å‡ç›¸åŒã€‚")]),s._v(" "),n("li",[s._v("å¯ä»¥ä½¿ç”¨"),n("a",{attrs:{href:"https://greenkeeper.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GreenKeeper"),n("OutboundLink")],1),s._v("ä¹‹ç±»çš„è‡ªåŠ¨åŒ–å·¥å…·æ›´æ–°æ ¹ç›®å½•ä¸­çš„ä¾èµ–ã€‚")]),s._v(" "),n("li",[s._v("é™ä½äº†ä¾èµ–å®‰è£…æ—¶é—´ã€‚")]),s._v(" "),n("li",[s._v("æ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ›´å°‘äº†ã€‚")])]),s._v(" "),n("p",[s._v("æ³¨æ„ï¼Œæä¾› npm è„šæœ¬ä½¿ç”¨çš„â€œäºŒè¿›åˆ¶â€å¯æ‰§è¡Œæ–‡ä»¶çš„"),n("code",[s._v("devdependency")]),s._v("ä»ç„¶éœ€è¦ç›´æ¥å®‰è£…åœ¨ä½¿ç”¨å®ƒä»¬çš„æ¯ä¸ªåŒ…ä¸­ã€‚")]),s._v(" "),n("p",[s._v("ä¾‹å¦‚ï¼Œå¯¹äºæ­£ç¡®è¿è¡Œ"),n("code",[s._v("lerna run nsp")]),s._v("(ä»¥åŠåœ¨åŒ…çš„ç›®å½•ä¸­è¿è¡Œ"),n("code",[s._v("npm run nsp")]),s._v(")æ¥è¯´ï¼Œ"),n("code",[s._v("nsp")]),s._v("ä¾èµ–å…³ç³»æ˜¯å¿…é¡»çš„:")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"nsp"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nsp"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"nsp"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.3.3"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"git-æ‰˜ç®¡çš„ä¾èµ–"}},[s._v("Git æ‰˜ç®¡çš„ä¾èµ–")]),s._v(" "),n("p",[s._v("Lerna å…è®¸æœ¬åœ°ä¾èµ–åŒ…çš„ç›®æ ‡ç‰ˆæœ¬é€šè¿‡"),n("code",[s._v("committish")]),s._v("ç¼–å†™ä¸º"),n("a",{attrs:{href:"https://docs.npmjs.com/cli/install",target:"_blank",rel:"noopener noreferrer"}},[s._v("git è¿œç¨‹ url"),n("OutboundLink")],1),s._v("(ä¾‹å¦‚"),n("code",[s._v("#v1.0.0")]),s._v("æˆ–"),n("code",[s._v("#semver:^1.0.0")]),s._v(")ã€‚è€Œéæ­£å¸¸æ•°å€¼èŒƒå›´ç‰ˆæœ¬ã€‚å½“åŒ…å¿…é¡»ä¸ºç§æœ‰ä¸”æ— éœ€"),n("a",{attrs:{href:"https://www.dotconferences.com/2016/05/fabien-potencier-monolithic-repositories-vs-many-repositories",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç§æœ‰çš„ npm æ³¨å†Œè¡¨"),n("OutboundLink")],1),s._v("æ—¶ï¼Œå…è®¸é€šè¿‡ git ä»“åº“å‘åŒ…ã€‚")]),s._v(" "),n("p",[s._v("è¯·æ³¨æ„ï¼Œlerna å¹¶æ²¡æœ‰å®é™…åœ°å°† git å†å²è®°å½•åˆ†å‰²åˆ°å•ç‹¬çš„åªè¯»å­˜å‚¨åº“å½“ä¸­ã€‚è¿™æ˜¯ç”¨æˆ·çš„äº‹æƒ…ã€‚(ç‚¹å‡»"),n("a",{attrs:{href:"https://github.com/lerna/lerna/pull/1033#issuecomment-335894690",target:"_blank",rel:"noopener noreferrer"}},[s._v("è¿™é‡Œ"),n("OutboundLink")],1),s._v("äº†è§£å®ç°ç»†èŠ‚)ã€‚")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// packages/pkg-1/package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pkg-1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  dependencies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pkg-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github:example-user/pkg-2#v1.0.0"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// packages/pkg-2/package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pkg-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼š")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("lerna bootstrap")]),s._v("ä¼šå°†"),n("code",[s._v("pkg-2")]),s._v("ä¸"),n("code",[s._v("pkg-1")]),s._v("æ°å½“çš„è¿æ¥èµ·æ¥ã€‚")]),s._v(" "),n("li",[n("code",[s._v("lerna publish")]),s._v("å½“"),n("code",[s._v("pkg-2")]),s._v("å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°†æ›´æ–°"),n("code",[s._v("pkg-1")]),s._v("ä¸­çš„ committish ("),n("code",[s._v("#v1.0.0")]),s._v(")ã€‚")])]),s._v(" "),n("h2",{attrs:{id:"readme-æ ‡ç­¾"}},[s._v("README æ ‡ç­¾")]),s._v(" "),n("p",[s._v("ç”¨ Lerna ä¸æ•´ä¸€ä¸ªæ ‡ç­¾ä¹ˆï¼Ÿ"),n("a",{attrs:{href:"https://lerna.js.org/",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg",alt:"lerna"}}),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-md line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-md"}},[n("code",[n("span",{pre:!0,attrs:{class:"token url"}},[s._v("["),n("span",{pre:!0,attrs:{class:"token content"}},[s._v("![lerna")]),s._v("](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)")]),s._v("](https://lerna.js.org/)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"å‘å¯¼"}},[s._v("å‘å¯¼")]),s._v(" "),n("p",[s._v("å¦‚æœæ‚¨å–œæ¬¢ä¸€äº›å…³äº cli çš„æŒ‡å¯¼ä¿¡æ¯(å¦‚æœæ‚¨å³å°†å¼€å§‹ä½¿ç”¨ lerna æˆ–å°†å…¶ä»‹ç»ç»™ä¸€ä¸ªæ–°çš„å›¢é˜Ÿ)ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šå–œæ¬¢"),n("a",{attrs:{href:"https://github.com/szarouski/lerna-wizard",target:"_blank",rel:"noopener noreferrer"}},[s._v("lerna-wizard"),n("OutboundLink")],1),s._v("ã€‚å®ƒé€šè¿‡ä¸€äº›å®šä¹‰å¥½çš„æ­¥éª¤æ¥å¸®åŠ©æ‚¨ï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:"/lerna-docs-zh-cn/images/lerna-wizard.png",alt:"image"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);