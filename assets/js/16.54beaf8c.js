(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{361:function(e,a,s){"use strict";s.r(a);var n=s(43),t=Object(n.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"lerna-add"}},[s("code",[e._v("@lerna/add")])]),e._v(" "),s("blockquote",[s("p",[e._v("向匹配的包添加依赖关系")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lerna/lerna/tree/master/commands/add#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("英文原地址"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("安装 lerna 以访问"),s("code",[e._v("lerna")]),e._v(" CLI。")]),e._v(" "),s("h2",{attrs:{id:"使用"}},[e._v("使用")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("lerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("package"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("@version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("--dev"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("--exact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("--peer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("将本地或远程"),s("code",[e._v("package")]),e._v("作为依赖项添加到当前 Lerna 仓库中的包。注意，与"),s("code",[e._v("yarn add")]),e._v("或"),s("code",[e._v("npm install")]),e._v("相比，一次只能添加一个包。")]),e._v(" "),s("p",[e._v("运行时，该命令将：")]),e._v(" "),s("ol",[s("li",[e._v("向每个适用的包添加"),s("code",[e._v("package")]),e._v("。适用是指在作用域内且不是"),s("code",[e._v("package")]),e._v("的包。")]),e._v(" "),s("li",[e._v("对"),s("code",[e._v("manifest")]),e._v("文件("),s("code",[e._v("package.json")]),e._v(")进行更改的引导包。")])]),e._v(" "),s("p",[e._v("如果没有提供"),s("code",[e._v("version")]),e._v("指示符，其默认值为"),s("code",[e._v("latest")]),e._v("dist-tag，和"),s("code",[e._v("npm install")]),e._v("一样。")]),e._v(" "),s("h2",{attrs:{id:"配置项"}},[e._v("配置项")]),e._v(" "),s("p",[s("code",[e._v("lerna add")]),e._v("接受所有的"),s("a",{attrs:{href:"https://www.npmjs.com/package/@lerna/filter-options",target:"_blank",rel:"noopener noreferrer"}},[e._v("过滤器参数"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"dev"}},[s("code",[e._v("--dev")])]),e._v(" "),s("p",[e._v("将新包添加到"),s("code",[e._v("devDependencies")]),e._v("而不是"),s("code",[e._v("dependencies")]),e._v("。")]),e._v(" "),s("h3",{attrs:{id:"exact"}},[s("code",[e._v("--exact")])]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("lerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --exact\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("为新包添加一个确切的版本(例如，"),s("code",[e._v("1.0.1")]),e._v(")，而不是默认的"),s("code",[e._v("^")]),e._v("语义化版本号范围(例如，"),s("code",[e._v("^1.0.1")]),e._v(")。")]),e._v(" "),s("h3",{attrs:{id:"peer"}},[s("code",[e._v("--peer")])]),e._v(" "),s("p",[e._v("将新包添加到"),s("code",[e._v("peerDependencies")]),e._v("而不是"),s("code",[e._v("dependencies")]),e._v("。")]),e._v(" "),s("h3",{attrs:{id:"registry-url"}},[s("code",[e._v("--registry <url>")])]),e._v(" "),s("p",[e._v("使用自定义注册表安装目标包。")]),e._v(" "),s("h3",{attrs:{id:"no-bootstrap"}},[s("code",[e._v("--no-bootstrap")])]),e._v(" "),s("p",[e._v("跳过链式的"),s("code",[e._v("lerna bootstrap")]),e._v("。")]),e._v(" "),s("h2",{attrs:{id:"示例"}},[e._v("示例")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 module-1 的包添加到以“prefix-”为前缀文件夹中的包中")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" module-1 packages/prefix-*\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 module-1 安装到 module-2")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" module-1 --scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("module-2\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 module-1 安装到 module-2 的 devDependencies")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" module-1 --scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("module-2 --dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 module-1 安装到 module-2 的 peerDependencies")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" module-1 --scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("module-2 --peer\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将 module-1 安装到除了 module-1 的所有模块")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" module-1\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 在所有模块中安装 babel-core")]),e._v("\nlerna "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" babel-core\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);