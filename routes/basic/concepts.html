<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ¦‚å¿µ | Lerna</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/lerna-docs-zh-cn/images/lerna_favicon.ico">
    <meta name="description" content="ç”¨äºç®¡ç†å¸¦æœ‰å¤šä¸ªåŒ…çš„ JavaScript é¡¹ç›®çš„å·¥å…·ã€‚">
    <link rel="preload" href="/lerna-docs-zh-cn/assets/css/0.styles.6207e96a.css" as="style"><link rel="preload" href="/lerna-docs-zh-cn/assets/js/app.49e1ae94.js" as="script"><link rel="preload" href="/lerna-docs-zh-cn/assets/js/2.c7b6054d.js" as="script"><link rel="preload" href="/lerna-docs-zh-cn/assets/js/9.70d8ce96.js" as="script"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/10.b75cc033.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/11.779ba1c2.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/12.00a61c83.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/13.7471e1ef.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/14.d4e8f0b4.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/15.8ce0b658.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/16.54beaf8c.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/17.9563e499.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/18.b02194ea.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/19.9bf827cd.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/20.d00780e6.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/21.0aca7fe9.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/22.7b433ac2.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/23.0304035d.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/24.1b83ab75.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/25.a92ecad3.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/26.cf0eee03.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/27.373f414c.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/28.356c1ef7.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/29.b6e9c1cc.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/3.46363123.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/30.9dfe906b.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/31.d82404dc.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/4.7351e2e0.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/5.392966c7.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/6.3569bd4e.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/7.01317e14.js"><link rel="prefetch" href="/lerna-docs-zh-cn/assets/js/8.e54138c8.js">
    <link rel="stylesheet" href="/lerna-docs-zh-cn/assets/css/0.styles.6207e96a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lerna-docs-zh-cn/" class="home-link router-link-active"><img src="/lerna-docs-zh-cn/images/logo.png" alt="Lerna" class="logo"> <span class="site-name can-hide">Lerna</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¤§ç¬‘æ–‡æ¡£
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/lerna-docs-zh-cn/" class="nav-link">
  æ–‡æ¡£é¦–é¡µ
</a></div><div class="nav-item"><a href="/lerna-docs-zh-cn/routes/commands/" class="nav-link">
  Lerna æŒ‡ä»¤
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¤§ç¬‘æ–‡æ¡£
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/lerna-docs-zh-cn/" class="nav-link">
  æ–‡æ¡£é¦–é¡µ
</a></div><div class="nav-item"><a href="/lerna-docs-zh-cn/routes/commands/" class="nav-link">
  Lerna æŒ‡ä»¤
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/lerna-docs-zh-cn/routes/basic/about.html" class="sidebar-link">å…³äº</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/start.html" class="sidebar-link">å¼€å§‹</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/how_it_works.html" class="sidebar-link">å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/troubleshooting.html" class="sidebar-link">æ’å¿§è§£éš¾</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/FAQ.html" class="sidebar-link">å¸¸è§é—®é¢˜</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/concepts.html" class="active sidebar-link">æ¦‚å¿µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lerna-docs-zh-cn/routes/basic/concepts.html#lerna-json" class="sidebar-link">lerna.json</a></li><li class="sidebar-sub-header"><a href="/lerna-docs-zh-cn/routes/basic/concepts.html#git-æ‰˜ç®¡çš„ä¾èµ–" class="sidebar-link">Git æ‰˜ç®¡çš„ä¾èµ–</a></li><li class="sidebar-sub-header"><a href="/lerna-docs-zh-cn/routes/basic/concepts.html#readme-æ ‡ç­¾" class="sidebar-link">README æ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/lerna-docs-zh-cn/routes/basic/concepts.html#å‘å¯¼" class="sidebar-link">å‘å¯¼</a></li></ul></li><li><a href="/lerna-docs-zh-cn/routes/basic/global_options.html" class="sidebar-link">å…¨å±€é…ç½®é¡¹</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/filter_options.html" class="sidebar-link">è¿‡æ»¤å™¨é…ç½®é¡¹</a></li><li><a href="/lerna-docs-zh-cn/routes/basic/hoisting.html" class="sidebar-link">Lerna Hoisting</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ¦‚å¿µ">æ¦‚å¿µ</h1> <p>å½“è¿è¡Œå‘½ä»¤é‡åˆ°é”™è¯¯æ—¶ï¼ŒLerna ä¼šå°†å…¶è®°å½•åˆ°<code>lerna-debug.log</code>æ–‡ä»¶ï¼ˆä¸<code>npm-debug.log</code>ï¼‰ä¸€æ ·ã€‚</p> <p>Lerna åŒæ ·ä¹Ÿæ”¯æŒ<a href="https://docs.npmjs.com/misc/scope" target="_blank" rel="noopener noreferrer">scoped packages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <p>è¿è¡Œ<code>lerna --help</code>æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å‘½ä»¤å’Œé…ç½®é¡¹ã€‚</p> <h2 id="lerna-json">lerna.json</h2> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;npmClient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;publish&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;ignoreChanges&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ignored-file&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.md&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;chore(release): publish&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;registry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://npm.pkg.github.com&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bootstrap&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;ignore&quot;</span><span class="token operator">:</span> <span class="token string">&quot;component-*&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;npmClientArgs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;--no-package-lock&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;packages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;packages/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>è¯´æ˜ï¼š</strong></p> <table><thead><tr><th style="text-align:center;">å±æ€§å</th> <th>æè¿°</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>version</code></td> <td>å½“å‰ç‰ˆæœ¬</td></tr> <tr><td style="text-align:center;"><code>npmClient</code></td> <td>æŒ‡å®šè¿è¡Œå‘½ä»¤çš„å®¢æˆ·ç«¯(ä¹Ÿå¯ä»¥æ ¹æ®æ¯ä¸ªå‘½ä»¤å•ç‹¬æŒ‡å®š)ã€‚è®¾å®šä¸º<code>&quot;yarn&quot;</code>åˆ™ä½¿ç”¨<code>yarn</code>è¿è¡Œã€‚é»˜è®¤å€¼æ˜¯<code>&quot;npm&quot;</code></td></tr> <tr><td style="text-align:center;"><code>command.publish.ignoreChanges</code></td> <td>é€šé…ç¬¦çš„æ•°ç»„ï¼Œå…¶ä¸­çš„å€¼ä¸ä¼šè¢« lerna ç›‘æµ‹æ›´æ”¹å’Œå‘å¸ƒã€‚ä½¿ç”¨å®ƒå¯ä»¥é˜²æ­¢å› æ›´æ”¹å‘å¸ƒä¸å¿…è¦çš„æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ä»…ä»…æ˜¯ä¿®å¤ README.md çš„é”™è¯¯ã€‚</td></tr> <tr><td style="text-align:center;"><code>command.publish.message</code></td> <td>æ‰§è¡Œå‘å¸ƒç‰ˆæœ¬æ›´æ–°æ—¶çš„è‡ªå®šä¹‰æäº¤æ¶ˆæ¯ã€‚æ›´å¤šç»†èŠ‚è§<a href="https://github.com/lerna/lerna/blob/master/commands/version#--message-msg" target="_blank" rel="noopener noreferrer">@lerna/version<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td style="text-align:center;"><code>command.publish.registry</code></td> <td>ä½¿ç”¨å®ƒæ¥è®¾ç½®è¦å‘å¸ƒçš„è‡ªå®šä¹‰æ³¨å†Œ urlï¼Œè€Œé npmjs.orgï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæ‚¨å¿…é¡»ç»è¿‡æˆæƒã€‚</td></tr> <tr><td style="text-align:center;"><code>command.bootstrap.ignore</code></td> <td>è¿è¡Œ<code>lerna bootstrap</code>æŒ‡ä»¤æ—¶ä¼šå¿½è§†è¯¥å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„é€šé…ç¬¦åŒ¹é…çš„æ–‡ä»¶ã€‚</td></tr> <tr><td style="text-align:center;"><code>command.bootstrap.npmClientArgs</code></td> <td>è¯¥å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„å‚æ•°å°†åœ¨<code>lerna bootstrap</code>å‘½ä»¤æœŸé—´ç›´æ¥ä¼ é€’ç»™<code>npm install</code>ã€‚</td></tr> <tr><td style="text-align:center;"><code>command.bootstrap.scope</code></td> <td>è¯¥é€šé…ç¬¦çš„æ•°ç»„ä¼šåœ¨<code>lerna bootstrap</code>å‘½ä»¤è¿è¡Œæ—¶é™åˆ¶å½±å“çš„èŒƒå›´ã€‚</td></tr> <tr><td style="text-align:center;"><code>packages</code></td> <td>è¡¨ç¤ºåŒ…ä½ç½®çš„å…¨å±€å˜é‡æ•°ç»„ã€‚</td></tr></tbody></table> <p><code>lerna.json</code>ä¸­çš„<code>packages</code>é…ç½®æ˜¯ä¸€ä¸ªé€šé…ç¬¦åˆ—è¡¨ï¼Œç”¨äºåŒ¹é…åŒ…å«äº†<code>package.json</code>çš„çš„ç›®å½•ã€‚è¿™å°±æ˜¯ lerna è¯†åˆ«â€œå¶å­â€åŒ…(å’Œâ€œæ ¹â€<code>package.json</code>ç›¸å¯¹åº”ï¼Œç”¨äºç®¡ç†æ•´ä¸ªä»“åº“çš„å¼€å‘ä¾èµ–å’Œè„šæœ¬)ã€‚</p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œlerna å°†åŒ…çš„åˆ—è¡¨åˆå§‹åŒ–ä¸º<code>[&quot;packages/*&quot;]</code>ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªç›®å½•ï¼Œæ¯”å¦‚<code>[&quot;modules/*&quot;]</code>æˆ–<code>[&quot;package1&quot;, &quot;package2&quot;]</code>ã€‚å®šä¹‰çš„é€šé…ç¬¦æ˜¯ç›¸å¯¹äº<code>lerna.json</code>æ‰€åœ¨çš„ç›®å½•çš„ï¼Œè¯¥ç›®å½•é€šå¸¸æ˜¯å­˜å‚¨åº“çš„æ›´ç›®å½•ã€‚å”¯ä¸€çš„é™åˆ¶æ˜¯ä¸èƒ½ç›´æ¥åµŒå¥—åŒ…çš„æœªçŸ¥ï¼Œä½†æ˜¯è¯¥é™åˆ¶åœ¨â€œæ™®é€šâ€ npm åŒ…ä¸­ä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚</p> <p>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œ<code>[&quot;packages/*&quot;, &quot;src/**&quot;]</code>åŒ¹é…çš„æ˜¯ä¸‹é¢è¿™æ ·çš„æ ‘å½¢ç»“æ„ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>packages/
â”œâ”€â”€ foo-pkg
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ bar-pkg
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ baz-pkg
â”‚   â””â”€â”€ package.json
â””â”€â”€ qux-pkg
    â””â”€â”€ package.json
src/
â”œâ”€â”€ admin
â”‚   â”œâ”€â”€ my-app
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ stuff
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ things
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ profile
â”‚   â””â”€â”€ more-things
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ property
â”‚   â”œâ”€â”€ more-stuff
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ other-things
â”‚       â””â”€â”€ package.json
â””â”€â”€ upload
    â””â”€â”€ other-stuff
        â””â”€â”€ package.json

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>å®šä½<code>packages/*</code>ä¸‹çš„å¶å­åŒ…è¢«è®¤ä¸ºæ˜¯â€œæœ€ä½³å®è·µâ€ï¼Œä½†ä¸æ˜¯ä½¿ç”¨ Lerna çš„å¿…è¦æ¡ä»¶ã€‚</p> <p><strong>ä¸€äº›å·²ç»åºŸå¼ƒçš„å­—æ®µ</strong></p> <p>ä¸€äº›<code>lerna.json</code>å­—æ®µå·²ä¸å†ä½¿ç”¨ã€‚å€¼å¾—æ³¨æ„çš„åŒ…æ‹¬:</p> <ul><li><code>lerna</code>: åŸæœ¬ç”¨äºæŒ‡ç¤ºå½“å‰ Lerna çš„ç‰ˆæœ¬ã€‚åœ¨ v3 ä¸­è¢«<a href="https://github.com/lerna/lerna/pull/1122" target="_blank" rel="noopener noreferrer">åºŸå¼ƒ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>å’Œ<a href="https://github.com/lerna/lerna/pull/1225" target="_blank" rel="noopener noreferrer">åˆ é™¤<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="å¸¸è§çš„devdependencies">å¸¸è§çš„<code>devDependencies</code></h3> <p>é€šè¿‡<code>Lerna link convert</code>ï¼Œå¤§å¤šæ•°<code>devdependency</code>å¯ä»¥è¢«æ‹‰åˆ° Lerna åº“çš„æ ¹ç›®å½•ã€‚</p> <p>ä¸Šé¢çš„å‘½ä»¤å°†è‡ªåŠ¨æå‡(hoist)æ–‡ä»¶å¹¶ä½¿ç”¨ç›¸å¯¹çš„<code>files</code>æ–‡ä»¶è¯´æ˜ç¬¦ã€‚</p> <p>æå‡æœ‰å¦‚ä¸‹å¥½å¤„:</p> <ul><li>æ‰€æœ‰çš„åŒ…ä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬å‡ç›¸åŒã€‚</li> <li>å¯ä»¥ä½¿ç”¨<a href="https://greenkeeper.io/" target="_blank" rel="noopener noreferrer">GreenKeeper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¹‹ç±»çš„è‡ªåŠ¨åŒ–å·¥å…·æ›´æ–°æ ¹ç›®å½•ä¸­çš„ä¾èµ–ã€‚</li> <li>é™ä½äº†ä¾èµ–å®‰è£…æ—¶é—´ã€‚</li> <li>æ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ›´å°‘äº†ã€‚</li></ul> <p>æ³¨æ„ï¼Œæä¾› npm è„šæœ¬ä½¿ç”¨çš„â€œäºŒè¿›åˆ¶â€å¯æ‰§è¡Œæ–‡ä»¶çš„<code>devdependency</code>ä»ç„¶éœ€è¦ç›´æ¥å®‰è£…åœ¨ä½¿ç”¨å®ƒä»¬çš„æ¯ä¸ªåŒ…ä¸­ã€‚</p> <p>ä¾‹å¦‚ï¼Œå¯¹äºæ­£ç¡®è¿è¡Œ<code>lerna run nsp</code>(ä»¥åŠåœ¨åŒ…çš„ç›®å½•ä¸­è¿è¡Œ<code>npm run nsp</code>)æ¥è¯´ï¼Œ<code>nsp</code>ä¾èµ–å…³ç³»æ˜¯å¿…é¡»çš„:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;nsp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nsp&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;nsp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.3&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="git-æ‰˜ç®¡çš„ä¾èµ–">Git æ‰˜ç®¡çš„ä¾èµ–</h2> <p>Lerna å…è®¸æœ¬åœ°ä¾èµ–åŒ…çš„ç›®æ ‡ç‰ˆæœ¬é€šè¿‡<code>committish</code>ç¼–å†™ä¸º<a href="https://docs.npmjs.com/cli/install" target="_blank" rel="noopener noreferrer">git è¿œç¨‹ url<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>(ä¾‹å¦‚<code>#v1.0.0</code>æˆ–<code>#semver:^1.0.0</code>)ã€‚è€Œéæ­£å¸¸æ•°å€¼èŒƒå›´ç‰ˆæœ¬ã€‚å½“åŒ…å¿…é¡»ä¸ºç§æœ‰ä¸”æ— éœ€<a href="https://www.dotconferences.com/2016/05/fabien-potencier-monolithic-repositories-vs-many-repositories" target="_blank" rel="noopener noreferrer">ç§æœ‰çš„ npm æ³¨å†Œè¡¨<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æ—¶ï¼Œå…è®¸é€šè¿‡ git ä»“åº“å‘åŒ…ã€‚</p> <p>è¯·æ³¨æ„ï¼Œlerna å¹¶æ²¡æœ‰å®é™…åœ°å°† git å†å²è®°å½•åˆ†å‰²åˆ°å•ç‹¬çš„åªè¯»å­˜å‚¨åº“å½“ä¸­ã€‚è¿™æ˜¯ç”¨æˆ·çš„äº‹æƒ…ã€‚(ç‚¹å‡»<a href="https://github.com/lerna/lerna/pull/1033#issuecomment-335894690" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>äº†è§£å®ç°ç»†èŠ‚)ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// packages/pkg-1/package.json</span>
<span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;pkg-1&quot;</span><span class="token punctuation">,</span>
  version<span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  dependencies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;pkg-2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;github:example-user/pkg-2#v1.0.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// packages/pkg-2/package.json</span>
<span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;pkg-2&quot;</span><span class="token punctuation">,</span>
  version<span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼š</p> <ul><li><code>lerna bootstrap</code>ä¼šå°†<code>pkg-2</code>ä¸<code>pkg-1</code>æ°å½“çš„è¿æ¥èµ·æ¥ã€‚</li> <li><code>lerna publish</code>å½“<code>pkg-2</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°†æ›´æ–°<code>pkg-1</code>ä¸­çš„ committish (<code>#v1.0.0</code>)ã€‚</li></ul> <h2 id="readme-æ ‡ç­¾">README æ ‡ç­¾</h2> <p>ç”¨ Lerna ä¸æ•´ä¸€ä¸ªæ ‡ç­¾ä¹ˆï¼Ÿ<a href="https://lerna.js.org/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg" alt="lerna"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-md line-numbers-mode"><pre class="language-md"><code><span class="token url">[<span class="token content">![lerna</span>](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)</span>](https://lerna.js.org/)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å‘å¯¼">å‘å¯¼</h2> <p>å¦‚æœæ‚¨å–œæ¬¢ä¸€äº›å…³äº cli çš„æŒ‡å¯¼ä¿¡æ¯(å¦‚æœæ‚¨å³å°†å¼€å§‹ä½¿ç”¨ lerna æˆ–å°†å…¶ä»‹ç»ç»™ä¸€ä¸ªæ–°çš„å›¢é˜Ÿ)ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šå–œæ¬¢<a href="https://github.com/szarouski/lerna-wizard" target="_blank" rel="noopener noreferrer">lerna-wizard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚å®ƒé€šè¿‡ä¸€äº›å®šä¹‰å¥½çš„æ­¥éª¤æ¥å¸®åŠ©æ‚¨ï¼š</p> <p><img src="/lerna-docs-zh-cn/images/lerna-wizard.png" alt="image"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/lerna-docs-zh-cn/routes/basic/FAQ.html" class="prev">
        å¸¸è§é—®é¢˜
      </a></span> <span class="next"><a href="/lerna-docs-zh-cn/routes/basic/global_options.html">
        å…¨å±€é…ç½®é¡¹
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/lerna-docs-zh-cn/assets/js/app.49e1ae94.js" defer></script><script src="/lerna-docs-zh-cn/assets/js/2.c7b6054d.js" defer></script><script src="/lerna-docs-zh-cn/assets/js/9.70d8ce96.js" defer></script>
  </body>
</html>
